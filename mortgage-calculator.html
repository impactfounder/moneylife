<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ì£¼íƒë‹´ë³´ëŒ€ì¶œ ê³„ì‚°ê¸° - LTV, DTI ë¹„ìœ¨ê³¼ ì›” ìƒí™˜ì•¡ì„ ì •í™•í•˜ê²Œ ê³„ì‚°í•˜ì„¸ìš”. ë‚´ ì§‘ ë§ˆë ¨ì„ ìœ„í•œ í•„ìˆ˜ ë„êµ¬">
    <meta name="keywords" content="ì£¼íƒë‹´ë³´ëŒ€ì¶œ, ì£¼ë‹´ëŒ€ê³„ì‚°ê¸°, LTV, DTI, ì£¼íƒëŒ€ì¶œ, ì•„íŒŒíŠ¸ëŒ€ì¶œ, ë‚´ì§‘ë§ˆë ¨">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://moneylife.kr/mortgage-calculator.html">
    <title>ì£¼íƒë‹´ë³´ëŒ€ì¶œ ê³„ì‚°ê¸° - LTV/DTI ê³„ì‚° | ê¸ˆìœµê³„ì‚°ê¸°</title>
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://moneylife.kr/mortgage-calculator.html">
    <meta property="og:title" content="ì£¼íƒë‹´ë³´ëŒ€ì¶œ ê³„ì‚°ê¸° - LTV/DTI ê³„ì‚°">
    <meta property="og:description" content="LTV, DTI ë¹„ìœ¨ê³¼ ì›” ìƒí™˜ì•¡ì„ ì •í™•í•˜ê²Œ ê³„ì‚°í•˜ì„¸ìš”. ë‚´ ì§‘ ë§ˆë ¨ì„ ìœ„í•œ í•„ìˆ˜ ë„êµ¬">
    <meta property="og:site_name" content="ê¸ˆìœµê³„ì‚°ê¸°">
    
    <!-- êµ¬ì¡°í™”ëœ ë°ì´í„° -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "ì£¼íƒë‹´ë³´ëŒ€ì¶œ ê³„ì‚°ê¸°",
      "url": "https://moneylife.kr/mortgage-calculator.html",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      },
      "description": "ì£¼íƒë‹´ë³´ëŒ€ì¶œ LTV, DTI ë¹„ìœ¨ê³¼ ì›” ìƒí™˜ì•¡ì„ ì •í™•í•˜ê²Œ ê³„ì‚°. ë‚´ ì§‘ ë§ˆë ¨ì„ ìœ„í•œ í•„ìˆ˜ ë„êµ¬ì…ë‹ˆë‹¤.",
      "featureList": ["LTV ê³„ì‚°", "DTI ê³„ì‚°", "ì›”ìƒí™˜ì•¡ ê³„ì‚°", "ì£¼íƒëŒ€ì¶œ ì‹œë®¬ë ˆì´ì…˜"]
    }
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2515762248094919"
     crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="css/common.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MN9KGF64');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MN9KGF64"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <header class="header">
        <div class="header-container">
            <a href="index.html" class="logo">
                <svg class="logo-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="4" y="2" width="16" height="20" rx="2" stroke="currentColor" stroke-width="2"/>
                    <line x1="8" y1="6" x2="16" y2="6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="8" cy="10" r="0.75" fill="currentColor"/>
                    <circle cx="12" cy="10" r="0.75" fill="currentColor"/>
                    <circle cx="16" cy="10" r="0.75" fill="currentColor"/>
                    <circle cx="8" cy="13" r="0.75" fill="currentColor"/>
                    <circle cx="12" cy="13" r="0.75" fill="currentColor"/>
                    <circle cx="16" cy="13" r="0.75" fill="currentColor"/>
                    <circle cx="8" cy="16" r="0.75" fill="currentColor"/>
                    <circle cx="12" cy="16" r="0.75" fill="currentColor"/>
                    <circle cx="16" cy="16" r="0.75" fill="currentColor"/>
                    <rect x="8" y="18.5" width="8" height="1.5" rx="0.5" fill="currentColor"/>
                </svg>
                <span>ê¸ˆìœµê³„ì‚°ê¸°</span>
            </a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">í™ˆ</a></li>
                    <li><a href="content/index.html">ì½˜í…ì¸ </a></li>
                    <li><a href="loan-calculator.html">ëŒ€ì¶œ</a></li>
                    <li><a href="compound-interest-calculator.html">ë³µë¦¬ì´ì</a></li>
                    <li><a href="salary-calculator.html">ê¸‰ì—¬</a></li>
                </ul>
                <button class="mobile-menu-btn">â˜°</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="page-header">
            <h1 class="page-title">ğŸ  ì£¼íƒë‹´ë³´ëŒ€ì¶œ ê³„ì‚°ê¸°</h1>
            <p class="page-subtitle">
                ì£¼íƒ ê°€ê²©, ë‹´ë³´ë¹„ìœ¨(LTV), ê¸ˆë¦¬ë¥¼ ì…ë ¥í•˜ë©´ ëŒ€ì¶œ ê°€ëŠ¥ ê¸ˆì•¡ê³¼ ì›” ìƒí™˜ì•¡ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
            </p>
        </div>

        <div class="layout-grid">
            <div class="main-content">
                <div class="card">
                    <h2 style="margin-bottom: 1.5rem; font-size: 1.5rem;">ì£¼íƒ ë° ëŒ€ì¶œ ì •ë³´</h2>
                    
                    <form id="mortgageForm">
                        <div class="form-group">
                            <label class="form-label" for="housePrice">ì£¼íƒ ê°€ê²©</label>
                            <div class="input-unit" data-unit="ì›">
                                <input type="text" id="housePrice" class="form-input" 
                                       placeholder="ì˜ˆ: 500,000,000" value="500,000,000" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="downPayment">ìê¸°ìë³¸ (ê³„ì•½ê¸ˆ + ì¤‘ë„ê¸ˆ)</label>
                            <div class="input-unit" data-unit="ì›">
                                <input type="text" id="downPayment" class="form-input" 
                                       placeholder="ì˜ˆ: 100,000,000" value="100,000,000" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="ltv">LTV (ë‹´ë³´ì¸ì •ë¹„ìœ¨) (%)</label>
                            <input type="number" id="ltv" class="form-input" 
                                   placeholder="ì˜ˆ: 70" value="70" step="1" min="0" max="100" required>
                            <small style="color: var(--text-secondary); display: block; margin-top: 0.25rem;">
                                ì¼ë°˜ì ìœ¼ë¡œ 50~80% (ê·œì œì§€ì—­ì€ 40~60%)
                            </small>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="interestRate">ì—° ì´ììœ¨ (%)</label>
                            <input type="number" id="interestRate" class="form-input" 
                                   placeholder="ì˜ˆ: 3.5" value="3.5" step="0.01" min="0" max="30" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="loanPeriod">ëŒ€ì¶œ ê¸°ê°„ (ë…„)</label>
                            <input type="number" id="loanPeriod" class="form-input" 
                                   placeholder="ì˜ˆ: 30" value="30" min="1" max="50" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="annualIncome">ì—° ì†Œë“ (DTI ê³„ì‚°ìš©, ì„ íƒ)</label>
                            <div class="input-unit" data-unit="ì›">
                                <input type="text" id="annualIncome" class="form-input" 
                                       placeholder="ì˜ˆ: 60,000,000" value="60,000,000">
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-block">ê³„ì‚°í•˜ê¸°</button>
                    </form>
                </div>

                <div id="resultSection" class="hidden">
                    <div class="result-card">
                        <div id="mainResult"></div>
                    </div>

                    <div class="card mt-4">
                        <h3 style="margin-bottom: 1.5rem; font-size: 1.25rem;">ëŒ€ì¶œ ìƒì„¸ ì •ë³´</h3>
                        <div id="detailResult"></div>
                    </div>

                    <div class="card mt-4">
                        <h3 style="margin-bottom: 1.5rem; font-size: 1.25rem;">ìê¸ˆ êµ¬ì„± ë¹„ìœ¨</h3>
                        <div style="height: 300px;">
                            <canvas id="fundChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <aside class="sidebar">
                <div class="card">
                    <h3 style="margin-bottom: 1rem; font-size: 1.125rem;">ê´€ë ¨ ê³„ì‚°ê¸°</h3>
                    <ul style="list-style: none;">
                        <li style="margin-bottom: 0.75rem;">
                            <a href="loan-calculator.html" style="color: var(--primary-color); text-decoration: none;">
                                ğŸ’³ ëŒ€ì¶œ ê³„ì‚°ê¸°
                            </a>
                        </li>
                        <li style="margin-bottom: 0.75rem;">
                            <a href="compound-interest-calculator.html" style="color: var(--primary-color); text-decoration: none;">
                                ğŸ“ˆ ë³µë¦¬ì´ì
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="card mt-3" style="background: #fef3c7;">
                    <h3 style="margin-bottom: 1rem; font-size: 1.125rem; color: #92400e;">ğŸ’¡ ì£¼ë‹´ëŒ€ íŒ</h3>
                    <ul style="color: #92400e; font-size: 0.875rem; line-height: 1.8; padding-left: 1.2rem;">
                        <li>LTVê°€ ë†’ì„ìˆ˜ë¡ ëŒ€ì¶œì•¡ì´ ë§ìŠµë‹ˆë‹¤</li>
                        <li>ê·œì œì§€ì—­ì€ LTVê°€ ë‚®ê²Œ ì ìš©ë©ë‹ˆë‹¤</li>
                        <li>ì‹ ê·œì£¼íƒì€ LTVê°€ ë” ë†’ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>ì—¬ëŸ¬ ì€í–‰ì˜ ì¡°ê±´ì„ ë¹„êµí•˜ì„¸ìš”</li>
                    </ul>
                </div>
            </aside>
        </div>

        <section class="card mt-4">
            <h2 style="font-size: 1.75rem; margin-bottom: 1rem;">ì£¼íƒë‹´ë³´ëŒ€ì¶œ ê³„ì‚°ê¸° ê°€ì´ë“œ</h2>
            
            <h3 style="font-size: 1.25rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">LTV(Loan To Value)ë€? <span style="font-size: 0.875rem; color: var(--text-secondary); font-weight: 400;">(2025ë…„ ê¸°ì¤€)</span></h3>
            <p style="line-height: 1.8; color: var(--text-secondary);">
                LTVëŠ” ì£¼íƒ ê°€ê²© ëŒ€ë¹„ ëŒ€ì¶œ ê°€ëŠ¥ ë¹„ìœ¨ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 5ì–µì› ì£¼íƒì— LTV 70%ë¼ë©´ ìµœëŒ€ 3.5ì–µì›ê¹Œì§€ ëŒ€ì¶œë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                ê·œì œì§€ì—­ê³¼ ë¹„ê·œì œì§€ì—­, ì£¼íƒ ìœ í˜•ì— ë”°ë¼ LTV í•œë„ê°€ ë‹¤ë¥´ê²Œ ì ìš©ë©ë‹ˆë‹¤.<br><br>
                <strong>2025ë…„ ê¸°ì¤€:</strong> ë¹„ê·œì œì§€ì—­ ìµœëŒ€ 70%, ê·œì œì§€ì—­(íˆ¬ê¸°ê³¼ì—´ì§€êµ¬ ë“±) ìµœëŒ€ 50~60%, ìƒì• ìµœì´ˆ ì£¼íƒêµ¬ì…ìëŠ” ìµœëŒ€ 80%ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
            </p>

            <h3 style="font-size: 1.25rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">DTI(Debt To Income)ë€? <span style="font-size: 0.875rem; color: var(--text-secondary); font-weight: 400;">(2025ë…„ ê¸°ì¤€)</span></h3>
            <p style="line-height: 1.8; color: var(--text-secondary);">
                DTIëŠ” ì—° ì†Œë“ ëŒ€ë¹„ ì—°ê°„ ì›ë¦¬ê¸ˆ ìƒí™˜ì•¡ì˜ ë¹„ìœ¨ì…ë‹ˆë‹¤. DTI 40%ëŠ” ì—°ì†Œë“ 6,000ë§Œì›ì¸ ì‚¬ëŒì´ 
                ì—°ê°„ 2,400ë§Œì›(ì›” 200ë§Œì›)ê¹Œì§€ ëŒ€ì¶œ ìƒí™˜ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.<br><br>
                <strong>2025ë…„ ê¸°ì¤€:</strong> ë¹„ê·œì œì§€ì—­ DTI ì œí•œ ì—†ìŒ, ê·œì œì§€ì—­ì€ ì¼ë°˜ì ìœ¼ë¡œ 40~60% ì ìš©ë©ë‹ˆë‹¤.
            </p>

            <h3 style="font-size: 1.25rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">ì£¼íƒë‹´ë³´ëŒ€ì¶œ ì¤€ë¹„ì‚¬í•­</h3>
            <ul style="line-height: 1.8; color: var(--text-secondary); padding-left: 1.5rem;">
                <li>ì¶©ë¶„í•œ ìê¸°ìë³¸(ê³„ì•½ê¸ˆ 10~20% + ì¤‘ë„ê¸ˆ)</li>
                <li>ì•ˆì •ì ì¸ ì†Œë“ ì¦ë¹™ ìë£Œ</li>
                <li>ì‹ ìš©ë“±ê¸‰ ê´€ë¦¬ (1~3ë“±ê¸‰ ìœ ë¦¬)</li>
                <li>ê·œì œì§€ì—­ ì—¬ë¶€ í™•ì¸</li>
                <li>ê¸ˆìœµê¸°ê´€ë³„ ê¸ˆë¦¬ ë° ìˆ˜ìˆ˜ë£Œ ë¹„êµ</li>
            </ul>

            <div style="margin-top: 2rem; padding: 1rem; background: var(--bg-light); border-left: 4px solid var(--primary-color); border-radius: 4px;">
                <h4 style="font-size: 1rem; margin-bottom: 0.5rem; color: var(--text-primary);">ğŸ“š ì°¸ê³ ìë£Œ</h4>
                <ul style="font-size: 0.875rem; color: var(--text-secondary); line-height: 1.6; padding-left: 1.2rem;">
                    <li>êµ­í† êµí†µë¶€ - <a href="https://www.molit.go.kr" target="_blank" rel="noopener" style="color: var(--primary-color);">ì£¼íƒì •ì±… ì•ˆë‚´</a></li>
                    <li>ì£¼íƒë„ì‹œë³´ì¦ê³µì‚¬(HUG) - <a href="https://www.khug.or.kr" target="_blank" rel="noopener" style="color: var(--primary-color);">ì£¼íƒê¸ˆìœµ ì •ë³´</a></li>
                    <li>ê¸ˆìœµê°ë…ì› - <a href="https://www.fss.or.kr" target="_blank" rel="noopener" style="color: var(--primary-color);">ì£¼íƒë‹´ë³´ëŒ€ì¶œ ê°€ì´ë“œ</a></li>
                    <li>í•œêµ­ì£¼íƒê¸ˆìœµê³µì‚¬ - <a href="https://www.hf.go.kr" target="_blank" rel="noopener" style="color: var(--primary-color);">ë³´ê¸ˆìë¦¬ë¡  ì•ˆë‚´</a></li>
                </ul>
                <p style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.75rem; font-style: italic;">
                    * ë³¸ ê³„ì‚°ê¸°ëŠ” 2025ë…„ ê¸°ì¤€ ì£¼íƒê¸ˆìœµê·œì œë¥¼ ë°˜ì˜í•˜ì˜€ìŠµë‹ˆë‹¤. LTV/DTIëŠ” ì§€ì—­ ë° ì£¼íƒ ìœ í˜•ì— ë”°ë¼ ë³€ë™ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ê¸ˆìœµ ê³„ì‚°ê¸°</h3>
                    <p style="color: rgba(255,255,255,0.8); margin-top: 0.5rem;">
                        ìŠ¤ë§ˆíŠ¸í•œ ì¬ë¬´ ì„¤ê³„ë¥¼ ìœ„í•œ<br>
                        ë¬´ë£Œ ê¸ˆìœµ ê³„ì‚° ì„œë¹„ìŠ¤
                    </p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ê¸ˆìœµê³„ì‚°ê¸°. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/common.js"></script>
    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ í†µê³„ ê¸°ë¡
        document.addEventListener('DOMContentLoaded', function() {
            trackCalculatorUsage('mortgage');
        });

        let fundChart = null;
        
        setupNumberInputs(['housePrice', 'downPayment', 'annualIncome']);

        document.getElementById('mortgageForm').addEventListener('submit', function(e) {
            e.preventDefault();
            calculateMortgage();
        });

        function calculateMortgage() {
            const housePrice = parseNumber(document.getElementById('housePrice').value);
            const downPayment = parseNumber(document.getElementById('downPayment').value);
            const ltv = parseFloat(document.getElementById('ltv').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const loanPeriod = parseInt(document.getElementById('loanPeriod').value);
            const annualIncome = parseNumber(document.getElementById('annualIncome').value);

            if (!validatePositiveNumber(housePrice, 'ì£¼íƒ ê°€ê²©')) return;
            if (!validatePositiveNumber(ltv, 'LTV')) return;
            if (!validatePositiveNumber(interestRate, 'ì´ììœ¨')) return;
            if (!validatePositiveNumber(loanPeriod, 'ëŒ€ì¶œ ê¸°ê°„')) return;

            // LTV ê¸°ì¤€ ìµœëŒ€ ëŒ€ì¶œì•¡
            const maxLoanByLTV = housePrice * (ltv / 100);
            
            // ì‹¤ì œ í•„ìš” ëŒ€ì¶œì•¡
            const neededLoan = housePrice - downPayment;
            
            // ì‹¤ì œ ëŒ€ì¶œ ê°€ëŠ¥ì•¡ (ë‘˜ ì¤‘ ì‘ì€ ê°’)
            const actualLoan = Math.min(maxLoanByLTV, Math.max(0, neededLoan));

            // ì›” ìƒí™˜ì•¡ ê³„ì‚° (ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜)
            const monthlyRate = interestRate / 100 / 12;
            const totalMonths = loanPeriod * 12;
            const monthlyPayment = actualLoan * (monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) / 
                                   (Math.pow(1 + monthlyRate, totalMonths) - 1);
            
            const totalPayment = monthlyPayment * totalMonths;
            const totalInterest = totalPayment - actualLoan;

            // DTI ê³„ì‚°
            let dti = 0;
            let dtiStatus = '';
            if (annualIncome > 0) {
                const annualPayment = monthlyPayment * 12;
                dti = (annualPayment / annualIncome) * 100;
                if (dti <= 40) {
                    dtiStatus = 'ìš°ìˆ˜ (ëŒ€ì¶œ ê°€ëŠ¥ì„± ë†’ìŒ)';
                } else if (dti <= 60) {
                    dtiStatus = 'ë³´í†µ (ì¡°ê±´ë¶€ ê°€ëŠ¥)';
                } else {
                    dtiStatus = 'ì£¼ì˜ (ëŒ€ì¶œ ì–´ë ¤ì›€)';
                }
            }

            displayResults({
                housePrice,
                downPayment,
                actualLoan,
                maxLoanByLTV,
                monthlyPayment,
                totalInterest,
                ltv,
                dti,
                dtiStatus,
                annualIncome
            });

            document.getElementById('resultSection').classList.remove('hidden');

            // ê³„ì‚° ì™„ë£Œ í†µê³„ ê¸°ë¡
            trackCalculation('mortgage');
        }

        function displayResults(data) {
            const mainHTML = `
                <div class="result-title">ì›” ìƒí™˜ì•¡</div>
                <div class="result-value">${formatCurrency(data.monthlyPayment)}</div>
                <div class="result-detail">
                    <div class="result-detail-item">
                        <span>ì£¼íƒ ê°€ê²©</span>
                        <strong>${formatCurrency(data.housePrice)}</strong>
                    </div>
                    <div class="result-detail-item">
                        <span>ëŒ€ì¶œ ê¸ˆì•¡</span>
                        <strong>${formatCurrency(data.actualLoan)}</strong>
                    </div>
                    <div class="result-detail-item">
                        <span>ìê¸°ìë³¸</span>
                        <strong>${formatCurrency(data.downPayment)}</strong>
                    </div>
                    <div class="result-detail-item">
                        <span>ì´ ì´ì</span>
                        <strong>${formatCurrency(data.totalInterest)}</strong>
                    </div>
                </div>
            `;
            document.getElementById('mainResult').innerHTML = mainHTML;

            let detailHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem;">
                    <div style="text-align: center; padding: 1rem; background: var(--bg-light); border-radius: 8px;">
                        <div style="color: var(--text-secondary); margin-bottom: 0.5rem;">ì‹¤ì œ LTV</div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color);">
                            ${((data.actualLoan / data.housePrice) * 100).toFixed(2)}%
                        </div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: var(--bg-light); border-radius: 8px;">
                        <div style="color: var(--text-secondary); margin-bottom: 0.5rem;">ìµœëŒ€ ëŒ€ì¶œ ê°€ëŠ¥ì•¡</div>
                        <div style="font-size: 1.25rem; font-weight: 700; color: var(--primary-color);">
                            ${formatCurrency(data.maxLoanByLTV)}
                        </div>
                    </div>
            `;

            if (data.annualIncome > 0) {
                detailHTML += `
                    <div style="text-align: center; padding: 1rem; background: var(--bg-light); border-radius: 8px;">
                        <div style="color: var(--text-secondary); margin-bottom: 0.5rem;">DTI</div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color);">
                            ${data.dti.toFixed(2)}%
                        </div>
                        <div style="font-size: 0.875rem; margin-top: 0.25rem; color: var(--text-secondary);">
                            ${data.dtiStatus}
                        </div>
                    </div>
                `;
            }

            detailHTML += '</div>';
            document.getElementById('detailResult').innerHTML = detailHTML;

            drawFundChart(data);
        }

        function drawFundChart(data) {
            if (fundChart) fundChart.destroy();

            fundChart = createPieChart('fundChart',
                ['ìê¸°ìë³¸', 'ëŒ€ì¶œê¸ˆ'],
                [data.downPayment, data.actualLoan],
                ['#10b981', '#2563eb']
            );
        }

        window.addEventListener('load', function() {
            calculateMortgage();
        });
    </script>

    <!-- ëª¨ë°”ì¼ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” (ì•± ìŠ¤íƒ€ì¼) -->
    <nav class="mobile-bottom-nav" aria-label="ëª¨ë°”ì¼ ë©”ì¸ ë©”ë‰´">
        <a href="index.html" class="nav-item" aria-label="í™ˆ">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <div class="nav-label">í™ˆ</div>
        </a>
        <a href="calculators.html" class="nav-item active" aria-label="ê³„ì‚°ê¸°">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="4" y="2" width="16" height="20" rx="2"></rect>
                <line x1="8" y1="6" x2="16" y2="6"></line>
                <line x1="8" y1="10" x2="16" y2="10"></line>
                <line x1="8" y1="14" x2="16" y2="14"></line>
                <line x1="8" y1="18" x2="16" y2="18"></line>
            </svg>
            <div class="nav-label">ê³„ì‚°ê¸°</div>
        </a>
        <a href="content/index.html" class="nav-item" aria-label="ì½˜í…ì¸ ">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
            </svg>
            <div class="nav-label">ì½˜í…ì¸ </div>
        </a>
    </nav>
    
    <script>
        // í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ í™œì„±í™” ìƒíƒœ ìë™ ì„¤ì •
        (function() {
            const pathname = window.location.pathname;
            const filename = pathname.split('/').pop() || 'index.html';
            
            const navItems = document.querySelectorAll('.mobile-bottom-nav .nav-item');
            
            navItems.forEach(item => {
                item.classList.remove('active');
                const href = item.getAttribute('href');
                
                // í™ˆ í˜ì´ì§€
                if ((filename === 'index.html' || filename === '' || pathname === '/') && 
                    !pathname.includes('/content/') &&
                    (href === 'index.html' || href === '/' || href === '../index.html')) {
                    item.classList.add('active');
                }
                // ê³„ì‚°ê¸° ëª©ë¡ í˜ì´ì§€ ë˜ëŠ” ê°œë³„ ê³„ì‚°ê¸° í˜ì´ì§€
                else if ((filename === 'calculators.html' || filename.includes('calculator') || filename.includes('rank')) && 
                         href === 'calculators.html') {
                    item.classList.add('active');
                }
                // ì½˜í…ì¸  í˜ì´ì§€
                else if (pathname.includes('/content/') && href.includes('content/index.html')) {
                    item.classList.add('active');
                }
            });
        })();
    </script>
</body>
</html>
