<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ëŒ€ì¶œ ê³„ì‚°ê¸° - ì›”ë³„ ìƒí™˜ê¸ˆì•¡, ì´ ì´ì, ì´ ìƒí™˜ê¸ˆì„ ì •í™•í•˜ê²Œ ê³„ì‚°í•˜ì„¸ìš”. ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜, ì›ê¸ˆê· ë“±ìƒí™˜ ë°©ì‹ ì§€ì›">
    <meta name="keywords" content="ëŒ€ì¶œê³„ì‚°ê¸°, ëŒ€ì¶œì´ìê³„ì‚°, ì›”ìƒí™˜ê¸ˆ, ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜, ì›ê¸ˆê· ë“±ìƒí™˜, ëŒ€ì¶œì‹œë®¬ë ˆì´ì…˜">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://moneylife.kr/loan-calculator.html">
    <title>ëŒ€ì¶œ ê³„ì‚°ê¸° - ì›”ë³„ ìƒí™˜ê¸ˆ ë° ì´ì ê³„ì‚° | ê¸ˆìœµê³„ì‚°ê¸°</title>
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://moneylife.kr/loan-calculator.html">
    <meta property="og:title" content="ëŒ€ì¶œ ê³„ì‚°ê¸° - ì›”ë³„ ìƒí™˜ê¸ˆ ë° ì´ì ê³„ì‚°">
    <meta property="og:description" content="ì›”ë³„ ìƒí™˜ê¸ˆì•¡, ì´ ì´ì, ì´ ìƒí™˜ê¸ˆì„ ì •í™•í•˜ê²Œ ê³„ì‚°í•˜ì„¸ìš”. ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜, ì›ê¸ˆê· ë“±ìƒí™˜ ë°©ì‹ ì§€ì›">
    <meta property="og:site_name" content="ê¸ˆìœµê³„ì‚°ê¸°">
    
    <!-- êµ¬ì¡°í™”ëœ ë°ì´í„° -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "ëŒ€ì¶œ ê³„ì‚°ê¸°",
      "url": "https://moneylife.kr/loan-calculator.html",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      },
      "description": "ëŒ€ì¶œ ì›”ë³„ ìƒí™˜ê¸ˆì•¡, ì´ ì´ì, ì´ ìƒí™˜ê¸ˆì„ ì •í™•í•˜ê²Œ ê³„ì‚°. ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜, ì›ê¸ˆê· ë“±ìƒí™˜ ë°©ì‹ì„ ëª¨ë‘ ì§€ì›í•©ë‹ˆë‹¤.",
      "featureList": ["ì›”ìƒí™˜ê¸ˆ ê³„ì‚°", "ì´ì´ì ê³„ì‚°", "ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜", "ì›ê¸ˆê· ë“±ìƒí™˜"]
    }
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2515762248094919"
     crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="css/common.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MN9KGF64');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MN9KGF64"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <!-- í—¤ë” -->
    <header class="header">
        <div class="header-container">
            <a href="index.html" class="logo">
                <svg class="logo-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="4" y="2" width="16" height="20" rx="2" stroke="currentColor" stroke-width="2"/>
                    <line x1="8" y1="6" x2="16" y2="6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="8" cy="10" r="0.75" fill="currentColor"/>
                    <circle cx="12" cy="10" r="0.75" fill="currentColor"/>
                    <circle cx="16" cy="10" r="0.75" fill="currentColor"/>
                    <circle cx="8" cy="13" r="0.75" fill="currentColor"/>
                    <circle cx="12" cy="13" r="0.75" fill="currentColor"/>
                    <circle cx="16" cy="13" r="0.75" fill="currentColor"/>
                    <circle cx="8" cy="16" r="0.75" fill="currentColor"/>
                    <circle cx="12" cy="16" r="0.75" fill="currentColor"/>
                    <circle cx="16" cy="16" r="0.75" fill="currentColor"/>
                    <rect x="8" y="18.5" width="8" height="1.5" rx="0.5" fill="currentColor"/>
                </svg>
                <span>ê¸ˆìœµê³„ì‚°ê¸°</span>
            </a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">í™ˆ</a></li>
                    <li><a href="content/index.html">ì½˜í…ì¸ </a></li>
                    <li><a href="mortgage-calculator.html">ì£¼íƒë‹´ë³´ëŒ€ì¶œ</a></li>
                    <li><a href="compound-interest-calculator.html">ë³µë¦¬ì´ì</a></li>
                    <li><a href="salary-calculator.html">ê¸‰ì—¬</a></li>
                </ul>
                <button class="mobile-menu-btn">â˜°</button>
            </nav>
        </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <main class="container">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="page-header">
            <h1 class="page-title">ğŸ’³ ëŒ€ì¶œ ê³„ì‚°ê¸°</h1>
            <p class="page-subtitle">
                ëŒ€ì¶œê¸ˆì•¡, ê¸ˆë¦¬, ëŒ€ì¶œê¸°ê°„ì„ ì…ë ¥í•˜ë©´ ì›”ë³„ ìƒí™˜ê¸ˆì•¡ê³¼ ì´ ì´ìë¥¼ ì¦‰ì‹œ ê³„ì‚°í•©ë‹ˆë‹¤.
            </p>
        </div>

        <!-- ë ˆì´ì•„ì›ƒ ê·¸ë¦¬ë“œ -->
        <div class="layout-grid">
            <!-- ë©”ì¸ ì»¨í…ì¸  -->
            <div class="main-content">
                <!-- ê³„ì‚° ì…ë ¥ ì¹´ë“œ -->
                <div class="card">
                    <h2 style="margin-bottom: 1.5rem; font-size: 1.5rem;">ëŒ€ì¶œ ì •ë³´ ì…ë ¥</h2>
                    
                    <form id="loanForm">
                        <div class="form-group">
                            <label class="form-label" for="loanAmount">ëŒ€ì¶œ ê¸ˆì•¡</label>
                            <div class="input-unit" data-unit="ì›">
                                <input type="text" id="loanAmount" class="form-input" 
                                       placeholder="ì˜ˆ: 100,000,000" value="100,000,000" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="interestRate">ì—° ì´ììœ¨ (%)</label>
                            <input type="number" id="interestRate" class="form-input" 
                                   placeholder="ì˜ˆ: 3.5" value="3.5" step="0.01" min="0" max="30" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="loanPeriod">ëŒ€ì¶œ ê¸°ê°„ (ë…„)</label>
                            <input type="number" id="loanPeriod" class="form-input" 
                                   placeholder="ì˜ˆ: 20" value="20" min="1" max="50" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="repaymentType">ìƒí™˜ ë°©ì‹</label>
                            <select id="repaymentType" class="form-select">
                                <option value="equal-payment">ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜ (ë§¤ì›” ë™ì¼ ê¸ˆì•¡)</option>
                                <option value="equal-principal">ì›ê¸ˆê· ë“±ìƒí™˜ (ë§¤ì›” ì›ê¸ˆ ë™ì¼)</option>
                            </select>
                        </div>

                        <button type="submit" class="btn btn-primary btn-block">ê³„ì‚°í•˜ê¸°</button>
                    </form>
                </div>

                <!-- ê²°ê³¼ í‘œì‹œ ì˜ì—­ -->
                <div id="resultSection" class="hidden">
                    <!-- ì£¼ìš” ê²°ê³¼ -->
                    <div class="result-card">
                        <div id="mainResult"></div>
                    </div>

                    <!-- ìƒì„¸ ê²°ê³¼ -->
                    <div class="card mt-4">
                        <h3 style="margin-bottom: 1.5rem; font-size: 1.25rem;">ìƒí™˜ ê³„íš ìƒì„¸</h3>
                        <div id="detailResult"></div>
                    </div>

                    <!-- ì°¨íŠ¸ -->
                    <div class="card mt-4">
                        <h3 style="margin-bottom: 1.5rem; font-size: 1.25rem;">ì›”ë³„ ìƒí™˜ì•¡ ì¶”ì´</h3>
                        <div style="height: 400px;">
                            <canvas id="loanChart"></canvas>
                        </div>
                    </div>

                    <!-- ì›ê¸ˆ/ì´ì ë¹„ìœ¨ ì°¨íŠ¸ -->
                    <div class="card mt-4">
                        <h3 style="margin-bottom: 1.5rem; font-size: 1.25rem;">ì›ê¸ˆ vs ì´ì ë¹„ìœ¨</h3>
                        <div style="height: 300px;">
                            <canvas id="pieChart"></canvas>
                        </div>
                    </div>

                    <!-- ìƒí™˜ ìŠ¤ì¼€ì¤„ í…Œì´ë¸” -->
                    <div class="card mt-4">
                        <h3 style="margin-bottom: 1.5rem; font-size: 1.25rem;">ì›”ë³„ ìƒí™˜ ìŠ¤ì¼€ì¤„</h3>
                        <div style="overflow-x: auto;">
                            <table id="scheduleTable" style="width: 100%; border-collapse: collapse;">
                                <!-- í…Œì´ë¸” ë‚´ìš©ì´ JavaScriptë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì‚¬ì´ë“œë°” -->
            <aside class="sidebar">
                <!-- ê´€ë ¨ ê³„ì‚°ê¸° -->
                <div class="card">
                    <h3 style="margin-bottom: 1rem; font-size: 1.125rem;">ê´€ë ¨ ê³„ì‚°ê¸°</h3>
                    <ul style="list-style: none;">
                        <li style="margin-bottom: 0.75rem;">
                            <a href="mortgage-calculator.html" style="color: var(--primary-color); text-decoration: none;">
                                ğŸ  ì£¼íƒë‹´ë³´ëŒ€ì¶œ
                            </a>
                        </li>
                        <li style="margin-bottom: 0.75rem;">
                            <a href="compound-interest-calculator.html" style="color: var(--primary-color); text-decoration: none;">
                                ğŸ“ˆ ë³µë¦¬ì´ì
                            </a>
                        </li>
                        <li style="margin-bottom: 0.75rem;">
                            <a href="salary-calculator.html" style="color: var(--primary-color); text-decoration: none;">
                                ğŸ’µ ê¸‰ì—¬ê³„ì‚°ê¸°
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- íŒ ì¹´ë“œ -->
                <div class="card mt-3" style="background: #fef3c7;">
                    <h3 style="margin-bottom: 1rem; font-size: 1.125rem; color: #92400e;">ğŸ’¡ ëŒ€ì¶œ íŒ</h3>
                    <ul style="color: #92400e; font-size: 0.875rem; line-height: 1.8; padding-left: 1.2rem;">
                        <li>ê¸ˆë¦¬ê°€ ë‚®ì„ìˆ˜ë¡ ì´ ì´ìê°€ ì¤„ì–´ë“­ë‹ˆë‹¤</li>
                        <li>ê¸°ê°„ì´ ì§§ì„ìˆ˜ë¡ ì´ ì´ìê°€ ì ìŠµë‹ˆë‹¤</li>
                        <li>ì¤‘ë„ìƒí™˜ìœ¼ë¡œ ì´ìë¥¼ ì ˆê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>ì—¬ëŸ¬ ê¸ˆìœµê¸°ê´€ì˜ ìƒí’ˆì„ ë¹„êµí•˜ì„¸ìš”</li>
                    </ul>
                </div>
            </aside>
        </div>

        <!-- SEO ì½˜í…ì¸  -->
        <section class="card mt-4">
            <h2 style="font-size: 1.75rem; margin-bottom: 1rem;">ëŒ€ì¶œ ê³„ì‚°ê¸° ì‚¬ìš© ê°€ì´ë“œ</h2>
            
            <h3 style="font-size: 1.25rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">ëŒ€ì¶œ ê³„ì‚°ê¸°ë€?</h3>
            <p style="line-height: 1.8; color: var(--text-secondary);">
                ëŒ€ì¶œ ê³„ì‚°ê¸°ëŠ” ëŒ€ì¶œê¸ˆì•¡, ê¸ˆë¦¬, ìƒí™˜ê¸°ê°„ì„ ì…ë ¥í•˜ë©´ ì›”ë³„ ìƒí™˜ê¸ˆì•¡ê³¼ ì´ ì´ìë¥¼ ìë™ìœ¼ë¡œ ê³„ì‚°í•´ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. 
                ëŒ€ì¶œì„ ë°›ê¸° ì „ì— ìƒí™˜ ê³„íšì„ ì„¸ìš°ê³ , ë³¸ì¸ì˜ ìƒí™˜ ëŠ¥ë ¥ì„ íŒŒì•…í•˜ëŠ” ë° í•„ìˆ˜ì ì¸ ê³„ì‚°ê¸°ì…ë‹ˆë‹¤.
            </p>

            <h3 style="font-size: 1.25rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜ vs ì›ê¸ˆê· ë“±ìƒí™˜</h3>
            <p style="line-height: 1.8; color: var(--text-secondary);">
                <strong>ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜:</strong> ë§¤ì›” ìƒí™˜í•˜ëŠ” ê¸ˆì•¡(ì›ê¸ˆ+ì´ì)ì´ ë™ì¼í•©ë‹ˆë‹¤. ì´ˆê¸° ë¶€ë‹´ì´ ì ê³  ê³„íšì„ ì„¸ìš°ê¸° ì‰½ì§€ë§Œ, ì´ ì´ìëŠ” ìƒëŒ€ì ìœ¼ë¡œ ë§ìŠµë‹ˆë‹¤.<br><br>
                <strong>ì›ê¸ˆê· ë“±ìƒí™˜:</strong> ë§¤ì›” ê°šëŠ” ì›ê¸ˆì´ ë™ì¼í•˜ê³  ì´ìê°€ ì¤„ì–´ë“­ë‹ˆë‹¤. ì´ˆê¸° ìƒí™˜ì•¡ì´ ë†’ì§€ë§Œ, ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë¶€ë‹´ì´ ì¤„ê³  ì´ ì´ìë„ ì ìŠµë‹ˆë‹¤.
            </p>

            <h3 style="font-size: 1.25rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">ëŒ€ì¶œ ê³„ì‚° ì‹œ ì£¼ì˜ì‚¬í•­</h3>
            <ul style="line-height: 1.8; color: var(--text-secondary); padding-left: 1.5rem;">
                <li>ë³¸ ê³„ì‚°ê¸°ì˜ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ ëŒ€ì¶œ ì¡°ê±´ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li>ê¸ˆìœµê¸°ê´€ë§ˆë‹¤ ìˆ˜ìˆ˜ë£Œ, ë³´ì¦ë£Œ ë“± ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li>ë³€ë™ê¸ˆë¦¬ì˜ ê²½ìš° ê¸ˆë¦¬ ë³€ë™ì— ë”°ë¼ ì›” ìƒí™˜ì•¡ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li>ë³¸ì¸ì˜ ì†Œë“ê³¼ ì§€ì¶œì„ ê³ ë ¤í•˜ì—¬ ë¬´ë¦¬ ì—†ëŠ” ëŒ€ì¶œì„ ë°›ìœ¼ì‹œê¸¸ ê¶Œì¥í•©ë‹ˆë‹¤.</li>
            </ul>

            <div style="margin-top: 2rem; padding: 1rem; background: var(--bg-light); border-left: 4px solid var(--primary-color); border-radius: 4px;">
                <h4 style="font-size: 1rem; margin-bottom: 0.5rem; color: var(--text-primary);">ğŸ“š ì°¸ê³ ìë£Œ</h4>
                <ul style="font-size: 0.875rem; color: var(--text-secondary); line-height: 1.6; padding-left: 1.2rem;">
                    <li>ê¸ˆìœµê°ë…ì› - <a href="https://www.fss.or.kr" target="_blank" rel="noopener" style="color: var(--primary-color);">ê¸ˆìœµì†Œë¹„ìì •ë³´í¬í„¸</a></li>
                    <li>í•œêµ­ì€í–‰ - <a href="https://www.bok.or.kr" target="_blank" rel="noopener" style="color: var(--primary-color);">ê²½ì œê¸ˆìœµìš©ì–´ 700ì„ </a></li>
                    <li>ì„œë¯¼ê¸ˆìœµì§„í¥ì› - <a href="https://www.sgf.or.kr" target="_blank" rel="noopener" style="color: var(--primary-color);">ëŒ€ì¶œ ê°€ì´ë“œ</a></li>
                </ul>
                <p style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.75rem; font-style: italic;">
                    * ë³¸ ê³„ì‚°ê¸°ëŠ” 2025ë…„ ê¸°ì¤€ ê¸ˆìœµë²•ê·œë¥¼ ë°˜ì˜í•˜ì˜€ìŠµë‹ˆë‹¤. ì‹¤ì œ ëŒ€ì¶œ ì¡°ê±´ì€ ê¸ˆìœµê¸°ê´€ ë° ê°œì¸ ì‹ ìš©ë„ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
            </div>
        </section>
    </main>

    <!-- í‘¸í„° -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ê¸ˆìœµ ê³„ì‚°ê¸°</h3>
                    <p style="color: rgba(255,255,255,0.8); margin-top: 0.5rem;">
                        ìŠ¤ë§ˆíŠ¸í•œ ì¬ë¬´ ì„¤ê³„ë¥¼ ìœ„í•œ<br>
                        ë¬´ë£Œ ê¸ˆìœµ ê³„ì‚° ì„œë¹„ìŠ¤
                    </p>
                </div>
                <div class="footer-section">
                    <h3>ê³„ì‚°ê¸°</h3>
                    <ul class="footer-links">
                        <li><a href="loan-calculator.html">ëŒ€ì¶œ ê³„ì‚°ê¸°</a></li>
                        <li><a href="mortgage-calculator.html">ì£¼íƒë‹´ë³´ëŒ€ì¶œ</a></li>
                        <li><a href="compound-interest-calculator.html">ë³µë¦¬ ì´ì</a></li>
                        <li><a href="salary-calculator.html">ê¸‰ì—¬ ê³„ì‚°ê¸°</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ê¸ˆìœµê³„ì‚°ê¸°. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/common.js"></script>
    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ í†µê³„ ê¸°ë¡
        document.addEventListener('DOMContentLoaded', function() {
            trackCalculatorUsage('loan');
        });

        // ëŒ€ì¶œ ê³„ì‚° ë¡œì§
        let loanChart = null;
        let pieChart = null;

        // ìˆ«ì ì…ë ¥ í•„ë“œ í¬ë§·íŒ…
        setupNumberInput('loanAmount');

        // í¼ ì œì¶œ ì´ë²¤íŠ¸
        document.getElementById('loanForm').addEventListener('submit', function(e) {
            e.preventDefault();
            calculateLoan();
        });

        function calculateLoan() {
            // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
            const loanAmount = parseNumber(document.getElementById('loanAmount').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const loanPeriod = parseInt(document.getElementById('loanPeriod').value);
            const repaymentType = document.getElementById('repaymentType').value;

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!validatePositiveNumber(loanAmount, 'ëŒ€ì¶œ ê¸ˆì•¡')) return;
            if (!validatePositiveNumber(interestRate, 'ì´ììœ¨')) return;
            if (!validatePositiveNumber(loanPeriod, 'ëŒ€ì¶œ ê¸°ê°„')) return;

            // ê³„ì‚°
            const monthlyRate = interestRate / 100 / 12;
            const totalMonths = loanPeriod * 12;
            let result;

            if (repaymentType === 'equal-payment') {
                result = calculateEqualPayment(loanAmount, monthlyRate, totalMonths);
            } else {
                result = calculateEqualPrincipal(loanAmount, monthlyRate, totalMonths);
            }

            // ê²°ê³¼ í‘œì‹œ
            displayResults(result, repaymentType);
            
            // ê²°ê³¼ ì˜ì—­ í‘œì‹œ
            document.getElementById('resultSection').classList.remove('hidden');

            // ê³„ì‚° ì™„ë£Œ í†µê³„ ê¸°ë¡
            trackCalculation('loan');
        }

        // ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜ ê³„ì‚°
        function calculateEqualPayment(principal, monthlyRate, months) {
            const monthlyPayment = principal * (monthlyRate * Math.pow(1 + monthlyRate, months)) / 
                                   (Math.pow(1 + monthlyRate, months) - 1);
            const totalPayment = monthlyPayment * months;
            const totalInterest = totalPayment - principal;

            // ì›”ë³„ ìŠ¤ì¼€ì¤„
            const schedule = [];
            let remainingPrincipal = principal;

            for (let i = 1; i <= months; i++) {
                const interestPayment = remainingPrincipal * monthlyRate;
                const principalPayment = monthlyPayment - interestPayment;
                remainingPrincipal -= principalPayment;

                schedule.push({
                    month: i,
                    payment: monthlyPayment,
                    principal: principalPayment,
                    interest: interestPayment,
                    remaining: Math.max(0, remainingPrincipal)
                });
            }

            return {
                monthlyPayment,
                totalPayment,
                totalInterest,
                principal,
                schedule
            };
        }

        // ì›ê¸ˆê· ë“±ìƒí™˜ ê³„ì‚°
        function calculateEqualPrincipal(principal, monthlyRate, months) {
            const principalPayment = principal / months;
            let totalPayment = 0;
            let totalInterest = 0;
            const schedule = [];
            let remainingPrincipal = principal;

            for (let i = 1; i <= months; i++) {
                const interestPayment = remainingPrincipal * monthlyRate;
                const monthlyPayment = principalPayment + interestPayment;
                totalPayment += monthlyPayment;
                totalInterest += interestPayment;
                remainingPrincipal -= principalPayment;

                schedule.push({
                    month: i,
                    payment: monthlyPayment,
                    principal: principalPayment,
                    interest: interestPayment,
                    remaining: Math.max(0, remainingPrincipal)
                });
            }

            return {
                monthlyPayment: schedule[0].payment, // ì²« ë‹¬ ìƒí™˜ì•¡
                totalPayment,
                totalInterest,
                principal,
                schedule
            };
        }

        // ê²°ê³¼ í‘œì‹œ
        function displayResults(result, repaymentType) {
            const typeName = repaymentType === 'equal-payment' ? 'ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜' : 'ì›ê¸ˆê· ë“±ìƒí™˜';
            
            // ì£¼ìš” ê²°ê³¼
            const mainResultHTML = `
                <div class="result-title">ì›” ìƒí™˜ì•¡ ${repaymentType === 'equal-principal' ? '(ì²« ë‹¬ ê¸°ì¤€)' : ''}</div>
                <div class="result-value">${formatCurrency(result.monthlyPayment)}</div>
                <div class="result-detail">
                    <div class="result-detail-item">
                        <span>ëŒ€ì¶œ ì›ê¸ˆ</span>
                        <strong>${formatCurrency(result.principal)}</strong>
                    </div>
                    <div class="result-detail-item">
                        <span>ì´ ì´ì</span>
                        <strong>${formatCurrency(result.totalInterest)}</strong>
                    </div>
                    <div class="result-detail-item">
                        <span>ì´ ìƒí™˜ì•¡</span>
                        <strong>${formatCurrency(result.totalPayment)}</strong>
                    </div>
                    <div class="result-detail-item">
                        <span>ìƒí™˜ ë°©ì‹</span>
                        <strong>${typeName}</strong>
                    </div>
                </div>
            `;
            document.getElementById('mainResult').innerHTML = mainResultHTML;

            // ìƒì„¸ ê²°ê³¼
            const interestRatio = (result.totalInterest / result.principal * 100).toFixed(2);
            const detailHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem;">
                    <div style="text-align: center; padding: 1rem; background: var(--bg-light); border-radius: 8px;">
                        <div style="color: var(--text-secondary); margin-bottom: 0.5rem;">ì›ê¸ˆ ëŒ€ë¹„ ì´ì</div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color);">${interestRatio}%</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: var(--bg-light); border-radius: 8px;">
                        <div style="color: var(--text-secondary); margin-bottom: 0.5rem;">ë§ˆì§€ë§‰ ë‹¬ ìƒí™˜ì•¡</div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color);">
                            ${formatCurrency(result.schedule[result.schedule.length - 1].payment)}
                        </div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: var(--bg-light); border-radius: 8px;">
                        <div style="color: var(--text-secondary); margin-bottom: 0.5rem;">ì´ ìƒí™˜ ê¸°ê°„</div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color);">
                            ${result.schedule.length}ê°œì›”
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('detailResult').innerHTML = detailHTML;

            // ì°¨íŠ¸ ê·¸ë¦¬ê¸°
            drawCharts(result);

            // ìŠ¤ì¼€ì¤„ í…Œì´ë¸” ìƒì„±
            createScheduleTable(result.schedule);
        }

        // ì°¨íŠ¸ ê·¸ë¦¬ê¸°
        function drawCharts(result) {
            // ê¸°ì¡´ ì°¨íŠ¸ ì‚­ì œ
            if (loanChart) loanChart.destroy();
            if (pieChart) pieChart.destroy();

            // ë¼ì¸ ì°¨íŠ¸ (ì›”ë³„ ìƒí™˜ì•¡)
            const labels = [];
            const paymentData = [];
            const remainingData = [];

            // ìµœëŒ€ 60ê°œì›”ê¹Œì§€ë§Œ í‘œì‹œ
            const displayMonths = Math.min(result.schedule.length, 60);
            for (let i = 0; i < displayMonths; i++) {
                const item = result.schedule[i];
                labels.push(`${item.month}ê°œì›”`);
                paymentData.push(item.payment);
                remainingData.push(item.remaining);
            }

            const ctx1 = document.getElementById('loanChart');
            loanChart = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'ì›” ìƒí™˜ì•¡',
                            data: paymentData,
                            borderColor: '#2563eb',
                            backgroundColor: 'rgba(37, 99, 235, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'ì”ì—¬ ì›ê¸ˆ',
                            data: remainingData,
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + formatCurrency(context.parsed.y);
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'ì›” ìƒí™˜ì•¡'
                            },
                            ticks: {
                                callback: function(value) {
                                    return formatNumber(value);
                                }
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'ì”ì—¬ ì›ê¸ˆ'
                            },
                            grid: {
                                drawOnChartArea: false
                            },
                            ticks: {
                                callback: function(value) {
                                    return formatNumber(value);
                                }
                            }
                        }
                    }
                }
            });

            // íŒŒì´ ì°¨íŠ¸ (ì›ê¸ˆ vs ì´ì)
            const ctx2 = document.getElementById('pieChart');
            pieChart = createPieChart('pieChart', 
                ['ì›ê¸ˆ', 'ì´ ì´ì'], 
                [result.principal, result.totalInterest],
                ['#2563eb', '#f59e0b']
            );
        }

        // ìŠ¤ì¼€ì¤„ í…Œì´ë¸” ìƒì„±
        function createScheduleTable(schedule) {
            let tableHTML = `
                <thead style="background: var(--bg-light); position: sticky; top: 0;">
                    <tr>
                        <th style="padding: 1rem; text-align: center; border-bottom: 2px solid var(--border-color);">íšŒì°¨</th>
                        <th style="padding: 1rem; text-align: right; border-bottom: 2px solid var(--border-color);">ì›” ìƒí™˜ì•¡</th>
                        <th style="padding: 1rem; text-align: right; border-bottom: 2px solid var(--border-color);">ì›ê¸ˆ</th>
                        <th style="padding: 1rem; text-align: right; border-bottom: 2px solid var(--border-color);">ì´ì</th>
                        <th style="padding: 1rem; text-align: right; border-bottom: 2px solid var(--border-color);">ì”ì—¬ ì›ê¸ˆ</th>
                    </tr>
                </thead>
                <tbody>
            `;

            // ìµœëŒ€ 12ê°œì›”ì”©ë§Œ í‘œì‹œ (ì²« 12ê°œì›”, ê·¸ ë‹¤ìŒì€ ì—°ë‹¨ìœ„)
            const displaySchedule = [];
            for (let i = 0; i < Math.min(12, schedule.length); i++) {
                displaySchedule.push(schedule[i]);
            }
            
            // ê·¸ ì´í›„ëŠ” 12ê°œì›”ë§ˆë‹¤
            for (let i = 12; i < schedule.length; i += 12) {
                displaySchedule.push(schedule[i]);
            }
            
            // ë§ˆì§€ë§‰ ë‹¬ ì¶”ê°€
            if (schedule.length > 12 && schedule.length % 12 !== 0) {
                displaySchedule.push(schedule[schedule.length - 1]);
            }

            displaySchedule.forEach(item => {
                tableHTML += `
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem; text-align: center;">${item.month}ê°œì›”</td>
                        <td style="padding: 0.75rem; text-align: right; font-weight: 600;">${formatCurrency(item.payment)}</td>
                        <td style="padding: 0.75rem; text-align: right;">${formatCurrency(item.principal)}</td>
                        <td style="padding: 0.75rem; text-align: right; color: #ef4444;">${formatCurrency(item.interest)}</td>
                        <td style="padding: 0.75rem; text-align: right; color: var(--text-secondary);">${formatCurrency(item.remaining)}</td>
                    </tr>
                `;
            });

            tableHTML += '</tbody>';
            document.getElementById('scheduleTable').innerHTML = tableHTML;
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ê³„ì‚°
        window.addEventListener('load', function() {
            calculateLoan();
        });
    </script>

    <!-- ëª¨ë°”ì¼ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” (ì•± ìŠ¤íƒ€ì¼) -->
    <nav class="mobile-bottom-nav" aria-label="ëª¨ë°”ì¼ ë©”ì¸ ë©”ë‰´">
        <a href="index.html" class="nav-item" aria-label="í™ˆ">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <div class="nav-label">í™ˆ</div>
        </a>
        <a href="salary-calculator.html" class="nav-item active" aria-label="ê³„ì‚°ê¸°">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="4" y="2" width="16" height="20" rx="2"></rect>
                <line x1="8" y1="6" x2="16" y2="6"></line>
                <line x1="8" y1="10" x2="16" y2="10"></line>
                <line x1="8" y1="14" x2="16" y2="14"></line>
                <line x1="8" y1="18" x2="16" y2="18"></line>
            </svg>
            <div class="nav-label">ê³„ì‚°ê¸°</div>
        </a>
        <a href="content/index.html" class="nav-item" aria-label="ì½˜í…ì¸ ">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
            </svg>
            <div class="nav-label">ì½˜í…ì¸ </div>
        </a>
    </nav>
    
    <script>
        // í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ í™œì„±í™” ìƒíƒœ ìë™ ì„¤ì •
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname;
            const navItems = document.querySelectorAll('.mobile-bottom-nav .nav-item');
            
            // ëª¨ë“  active ì œê±°
            navItems.forEach(item => item.classList.remove('active'));
            
            // í˜„ì¬ í˜ì´ì§€ íƒ€ì… íŒë‹¨
            let pageType = 'calculator'; // ê³„ì‚°ê¸° í˜ì´ì§€ê°€ ê¸°ë³¸
            
            if (currentPath.includes('/content/')) {
                pageType = 'content';
            } else if (currentPath === '/' || currentPath.endsWith('/index.html') || currentPath === '') {
                pageType = 'home';
            }
            
            // í•´ë‹¹ ë©”ë‰´ í™œì„±í™”
            navItems.forEach(item => {
                const href = item.getAttribute('href');
                
                if (pageType === 'home' && (href === 'index.html' || href === '/')) {
                    item.classList.add('active');
                } else if (pageType === 'calculator' && href.includes('calculator.html')) {
                    item.classList.add('active');
                } else if (pageType === 'content' && href.includes('content/index.html')) {
                    item.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
